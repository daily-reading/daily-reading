## Monorepos: Please don’t!
> 原文地址：<https://medium.com/@mattklein123/monorepos-please-dont-e9a279be011b>

## 前言
刚刚入职两周,这段时间的任务就是和雅迪一起搞monorepo,然后就看到了这篇文章,哈哈哈!

这篇文章主要讲了作者认为的 monorepo 存在的一些问题,本菜鸟就不太好评价了....不过个人觉得评价它好与不好主要看使用场景吧,就基础库而言,我觉得还是比较合适的.

#### monorepo
monorepo 是将所有代码存储在一个版本控制系统(VCS)存储库中。polyrepo 通常以服务/应用程序/库为基础,将代码存储到许多不同的VCS存储库中。

#### monorepo的优点
- 更容易的协作和代码共享

作者认为在协作和代码共享方面，开发人员可以通过更高级的工具接触到代码的子部分。该代码是在monoorepo或polyrepo是无关的;要解决的问题也是一样的，协作和代码共享的有效性完全与工程文化有关，而与代码存储无关。
- 单一构建/无需依赖管理

大规模上，当提交每个更改时(或者更重要且更常见的是，在CI中提出更改时)，根本不可能重新构建整个代码库并运行所有自动化测试。为了解决这个问题，所有大型的monorepos都开发了复杂的构建系统(见谷歌的Bazel/Blaze和Facebook的Buck)
- 代码重构很容易/原子提交

1.大规模在本地搜索代码体验很差 2.需要考虑修改库API时的向后兼容性问题

#### monorepo独有的缺点
- 紧密耦合和 OSS

1.monorepo紧密耦合，边界不清晰
2.影响开源,不利于有成效的OSS协作和社区建设

- VCS 可拓展性
- 代码量过大影响提交速度